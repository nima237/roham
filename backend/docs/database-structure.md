# ๐ ูุณุชูุฏุงุช ุณุงุฎุชุงุฑ ุฏุชุงุจุณ ุณุณุชู ูุฏุฑุช ูุตูุจุงุช TSE

## ๐ ููุง ฺฉู ุณุณุชู

ุณุณุชู ูุฏุฑุช ูุตูุจุงุช TSE ฺฉ ุณุณุชู ุฌุงูุน ุจุฑุง ูุฏุฑุช ุฌูุณุงุชุ ูุตูุจุงุช ู ูพฺฏุฑ ุงุฌุฑุง ุขูโูุง ุงุณุช. ุงู ุณุณุชู ุดุงูู 8 ูุฏู ุงุตู ุงุณุช ฺฉู ุฑูุงุจุท ูพฺุฏูโุง ุจุง ฺฉุฏฺฏุฑ ุฏุงุฑูุฏ.

### ๐ฏ ูุฏู ุณุณุชู:
- ูุฏุฑุช ุฌูุณุงุช ูุฆุช ูุฏุฑู
- ุซุจุช ู ูพฺฏุฑ ูุตูุจุงุช
- ูุฏุฑุช ุณูุณูู ูุฑุงุชุจ ุณุงุฒูุงู
- ุณุณุชู ฺุช ู ุชุนุงููุงุช
- ูุฏุฑุช ุงุนูุงูโูุง ู ููุชูฺฉุดูโูุง

---

## ๐๏ธ ูุฏูโูุง ุณุณุชู

### 1. ๐ข **Meeting** (ุฌูุณุงุช)

**ูุฏู**: ูุฏุฑุช ุงุทูุงุนุงุช ุฌูุณุงุช ูุฆุช ูุฏุฑู

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `number` | IntegerField | ุดูุงุฑู ฺฉุชุง ุฌูุณู |
| `held_at` | DateField | ุชุงุฑุฎ ุจุฑฺฏุฒุงุฑ ุฌูุณู |
| `description` | TextField | ุชูุถุญุงุช ุฌูุณู |
| `minutes_url` | URLField | ููฺฉ ุตูุฑุชุฌูุณู ุขููุงู |
| `minutes_file` | FileField | ูุงู ุตูุฑุชุฌูุณู ุงูุถุง ุดุฏู |
| `attendees` | ManyToManyField โ User | ุญุงุถุฑู ุฌูุณู |
| `other_invitees` | CharField | ุณุงุฑ ูุฏุนูู (ุบุฑ ฺฉุงุฑุจุฑุงู ุณุณุชู) |
| `created_at` | DateTimeField | ุชุงุฑุฎ ุงุฌุงุฏ |
| `updated_at` | DateTimeField | ุชุงุฑุฎ ุขุฎุฑู ุจุฑูุฒุฑุณุงู |

#### ูฺฺฏโูุง:
- ุดูุงุฑู ุฌูุณู **ฺฉุชุง** ุงุณุช
- ุงูฺฉุงู ุขูพููุฏ ูุงู ุตูุฑุชุฌูุณู
- ูุฏุฑุช ุญุงุถุฑู ุงุฒ ฺฉุงุฑุจุฑุงู ุณุณุชู

---

### 2. ๐ **Resolution** (ูุตูุจุงุช)

**ูุฏู**: ูุฏู ุงุตู ุณุณุชู ุจุฑุง ูุฏุฑุช ูุตูุจุงุช

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง UUID |
| `meeting` | ForeignKey โ Meeting | ุฌูุณู ูุฑุจูุทู |
| `clause` | CharField | ุดูุงุฑู ุจูุฏ |
| `subclause` | CharField | ุดูุงุฑู ุฒุฑุจูุฏ |
| `description` | TextField | ุดุฑุญ ฺฉุงูู ูุตูุจู |
| `type` | CharField | ููุน ูุตูุจู (ุนููุงุช/ุงุทูุงุนโุฑุณุงู) |
| `executor_unit` | ForeignKey โ User | ูุงุญุฏ ูุฌุฑ ุงุตู |
| `coworkers` | ManyToManyField โ User | ููฺฉุงุฑุงู ุฏุฑ ุงุฌุฑุง |
| `inform_units` | ManyToManyField โ User | ูุงุญุฏูุง ุงุทูุงุนโุฑุณุงู |
| `participants` | ManyToManyField โ User | ุดุฑฺฉุชโฺฉููุฏฺฏุงู ุฏุฑ ฺุช ฺฏุฑูู |
| `progress` | IntegerField | ุฏุฑุตุฏ ูพุดุฑูุช (0-100) |
| `status` | CharField | ูุถุนุช ูุตูุจู |
| `deadline` | DateField | ูููุช ุงูุฌุงู |
| `can_edit` | BooleanField | ูุงุจู ูุฑุงุด ุชูุณุท ุฏุจุฑ |
| `created_by` | ForeignKey โ User | ุงุฌุงุฏฺฉููุฏู |
| `created_at` | DateTimeField | ุชุงุฑุฎ ุงุฌุงุฏ |
| `updated_at` | DateTimeField | ุชุงุฑุฎ ุจุฑูุฒุฑุณุงู |

#### ุงููุงุน ูุถุนุช (STATUS_CHOICES):
- `cancelled`: ููุชู
- `notified`: ุฏุฑ ุญุงู ุงุจูุงุบ
- `in_progress`: ุฏุฑ ุญุงู ุงุฌุฑุง
- `completed`: ุชฺฉูู ุดุฏู
- `returned_to_secretary`: ุจุฑฺฏุดุช ุจู ุฏุจุฑ

#### ุงููุงุน ูุตูุจู (TYPE_CHOICES):
- `operational`: ุนููุงุช
- `informational`: ุงุทูุงุนโุฑุณุงู

#### ูุชุฏูุง ููู:
```python
def get_all_participants(self):
    """ุฏุฑุงูุช ุชูุงู ุงูุฑุงุฏ ูุฑุชุจุท ุจุง ูุตูุจู ุจุฑุง ฺุช ฺฏุฑูู"""
```

---

### 3. ๐ค **UserProfile** (ูพุฑููุงู ฺฉุงุฑุจุฑุงู)

**ูุฏู**: ฺฏุณุชุฑุด ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู Django ู ูุฏุฑุช ุณูุณูู ูุฑุงุชุจ

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `user` | OneToOneField โ User | ฺฉุงุฑุจุฑ Django |
| `supervisor` | ForeignKey โ User | ุณุฑูพุฑุณุช ูุณุชูู |
| `position` | CharField | ุณูุช ุณุงุฒูุงู |
| `department` | CharField | ูุงุญุฏ/ุงุฏุงุฑู |

#### ุงููุงุน ุณูุช (POSITION_CHOICES):
- `deputy`: ูุนุงูู
- `manager`: ูุฏุฑ
- `head`: ุฑุฆุณ ุงุฏุงุฑู
- `employee`: ฺฉุงุฑููุฏ
- `secretary`: ุฏุจุฑ
- `auditor`: ูุงุธุฑ

#### ูุชุฏูุง ููู:
```python
def get_hierarchy_path(self):
    """ุฏุฑุงูุช ูุณุฑ ุณูุณูู ูุฑุงุชุจ ุงุฒ ุจุงูุง ุชุง ูพุงู"""

def get_all_subordinates(self):
    """ุฏุฑุงูุช ุชูุงู ุฒุฑุฏุณุชุงู (ูุณุชูู ู ุบุฑูุณุชูู)"""
```

---

### 4. ๐ฌ **ResolutionComment** (ฺฉุงููุชโูุง ูุตูุจู)

**ูุฏู**: ุณุณุชู ฺุช ู ุชุนุงููุงุช ูุตูุจุงุช

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `resolution` | ForeignKey โ Resolution | ูุตูุจู ูุฑุจูุทู |
| `author` | ForeignKey โ User | ููุณูุฏู ฺฉุงููุช |
| `content` | TextField | ูุญุชูุง ฺฉุงููุช |
| `comment_type` | CharField | ููุน ฺฉุงููุช |
| `created_at` | DateTimeField | ุฒูุงู ุงุฌุงุฏ |
| `action_data` | JSONField | ุฏุงุฏูโูุง ุงุถุงู |
| `related_action` | ForeignKey โ ResolutionAction | ุงฺฉุดู ูุฑุชุจุท |
| `mentions` | ManyToManyField โ User | ฺฉุงุฑุจุฑุงู mention ุดุฏู |
| `reply_to` | ForeignKey โ self | ูพุงุณุฎ ุจู ฺฉุงููุช |

#### ุงููุงุน ฺฉุงููุช (COMMENT_TYPES):
- `message`: ูพุงู ูุนููู
- `action`: ุงฺฉุดู ุณุณุชู
- `progress_update`: ุจุฑูุฒุฑุณุงู ูพุดุฑูุช
- `return`: ุจุฑฺฏุดุช
- `referral`: ุงุฑุฌุงุน

---

### 5. ๐ **ResolutionCommentAttachment** (ูุงูโูุง ูพูุณุช)

**ูุฏู**: ูุฏุฑุช ูุงูโูุง ูพูุณุช ุดุฏู ุจู ฺฉุงููุชโูุง

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `comment` | ForeignKey โ ResolutionComment | ฺฉุงููุช ูุฑุจูุทู |
| `file` | FileField | ูุงู ูพูุณุช |
| `original_name` | CharField | ูุงู ุงุตู ูุงู |
| `file_size` | PositiveIntegerField | ุงูุฏุงุฒู ูุงู (ุจุงุช) |
| `file_type` | CharField | ููุน ูุงู (MIME type) |
| `uploaded_at` | DateTimeField | ุฒูุงู ุขูพููุฏ |

#### ูุชุฏูุง ููู:
```python
def get_file_url(self):
    """ุฏุฑุงูุช URL ูุงู"""
```

---

### 6. โก **ResolutionAction** (ุนููุงุช ูุตูุจู)

**ูุฏู**: ุซุจุช ุชูุงู ุงฺฉุดูโูุง ู ุนููุงุช ุงูุฌุงู ุดุฏู ุฑู ูุตูุจุงุช

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `resolution` | ForeignKey โ Resolution | ูุตูุจู ูุฑุจูุทู |
| `actor` | ForeignKey โ User | ุงูุฌุงูโุฏููุฏู ุงฺฉุดู |
| `action_type` | CharField | ููุน ุงฺฉุดู |
| `description` | TextField | ุชูุถุญุงุช |
| `created_at` | DateTimeField | ุฒูุงู ุงูุฌุงู |
| `action_data` | JSONField | ุฏุงุฏูโูุง ูุฎุตูุต ุงฺฉุดู |
| `related_comment` | OneToOneField โ ResolutionComment | ฺฉุงููุช ูุฑุชุจุท |

#### ุงููุงุน ุงฺฉุดู (ACTION_TYPES):
- `return_to_secretary`: ุจุฑฺฏุดุช ุจู ุฏุจุฑ
- `return`: ุจุฑฺฏุดุช
- `accept`: ูุจูู
- `edit`: ูุฑุงุด
- `referral`: ุงุฑุฌุงุน
- `progress_update`: ุจูโุฑูุฒุฑุณุงู ูพุดุฑูุช
- `status_change`: ุชุบุฑ ูุถุนุช
- `add_participant`: ุงุถุงูู ฺฉุฑุฏู ุดุฑฺฉุชโฺฉููุฏู

---

### 7. ๐ **Notification** (ุงุนูุงูโูุง)

**ูุฏู**: ุณุณุชู ุงุนูุงูโุฑุณุงู ุจู ฺฉุงุฑุจุฑุงู

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `resolution` | ForeignKey โ Resolution | ูุตูุจู ูุฑุจูุทู |
| `recipient` | ForeignKey โ User | ฺฏุฑูุฏู ุงุนูุงู |
| `message` | TextField | ูุชู ูพุงู |
| `sent_at` | DateTimeField | ุฒูุงู ุงุฑุณุงู |
| `read` | BooleanField | ุฎูุงูุฏู ุดุฏู ุง ูู |

---

### 8. ๐ **Referral** (ุงุฑุฌุงุนุงุช)

**ูุฏู**: ูุฏุฑุช ุงุฑุฌุงุนุงุช ุฑุณู ูุตูุจุงุช

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `resolution` | ForeignKey โ Resolution | ูุตูุจู ูุฑุจูุทู |
| `referred_to` | ForeignKey โ User | ุงุฑุฌุงุน ุดุฏู ุจู |
| `note` | TextField | ุชูุถุญุงุช ุงุฑุฌุงุน |
| `created_at` | DateTimeField | ุฒูุงู ุงุฑุฌุงุน |

---

### 9. ๐ **FollowUp** (ูพฺฏุฑโูุง)

**ูุฏู**: ูุฏุฑุช ูุธุงู ูพฺฏุฑ

#### ููุฏูุง:
| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `id` | UUIDField | ุดูุงุณู ฺฉุชุง |
| `resolution` | ForeignKey โ Resolution | ูุตูุจู ูุฑุจูุทู |
| `assigned_to` | ForeignKey โ User | ูุณุฆูู ูพฺฏุฑ |
| `status` | CharField | ูุถุนุช ูพฺฏุฑ |
| `due_date` | DateField | ูููุช ุงูุฌุงู |
| `note` | TextField | ุชูุถุญุงุช |
| `created_at` | DateTimeField | ุชุงุฑุฎ ุงุฌุงุฏ |
| `updated_at` | DateTimeField | ุชุงุฑุฎ ุจุฑูุฒุฑุณุงู |

#### ูุถุนุชโูุง ูพฺฏุฑ:
- `pending`: ุฏุฑ ุงูุชุธุงุฑ
- `in_progress`: ุฏุฑ ุญุงู ุงูุฌุงู
- `done`: ุงูุฌุงู ุดุฏู

---

## ๐ ุฑูุงุจุท ุจู ูุฏูโูุง

### ุฑูุงุจุท ุงุตู:

```
Meeting (1) โโ (N) Resolution
```
ูุฑ ุฌูุณู ูโุชูุงูุฏ ฺูุฏู ูุตูุจู ุฏุงุดุชู ุจุงุดุฏ.

```
User (1) โโ (1) UserProfile
```
ุฑุงุจุทู ฺฉโุจูโฺฉ ุจู ฺฉุงุฑุจุฑ Django ู ูพุฑููุงู.

```
User (1) โโ (N) UserProfile [supervisor]
```
ูุฑ ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุณุฑูพุฑุณุช ฺูุฏู ููุฑ ุจุงุดุฏ.

```
Resolution (1) โโ (N) ResolutionComment
Resolution (1) โโ (N) ResolutionAction  
Resolution (1) โโ (N) Notification
```
ูุฑ ูุตูุจู ุฏุงุฑุง ฺูุฏู ฺฉุงููุชุ ุงฺฉุดู ู ุงุนูุงู.

```
ResolutionComment (1) โโ (N) ResolutionCommentAttachment
```
ูุฑ ฺฉุงููุช ูโุชูุงูุฏ ฺูุฏู ูุงู ูพูุณุช ุฏุงุดุชู ุจุงุดุฏ.

### ุฑูุงุจุท Many-to-Many:

```
Resolution โโ User [executor_unit] (1:N)
Resolution โโ User [coworkers] (M:N)
Resolution โโ User [inform_units] (M:N)  
Resolution โโ User [participants] (M:N)
Meeting โโ User [attendees] (M:N)
ResolutionComment โโ User [mentions] (M:N)
```

---

## ๐ ฺุฑุฎู ุญุงุช ูุตูุจู

### 1. **ูุฑุญูู ุงุฌุงุฏ** (`notified`)
- ุฏุจุฑ ูุตูุจู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ
- ูุงุญุฏ ูุฌุฑ ุชุนู ูโุดูุฏ
- ุงุนูุงู ุจู ูุงุญุฏ ูุฌุฑ ุงุฑุณุงู ูโุดูุฏ

### 2. **ูุฑุญูู ุจุฑุฑุณ**
- ูุงุญุฏ ูุฌุฑ ูโุชูุงูุฏ ูุจูู ฺฉูุฏ โ `in_progress`
- ุง ุจุฑฺฏุดุช ุฏูุฏ โ `returned_to_secretary`

### 3. **ูุฑุญูู ฺฏูุชฺฏู** (`returned_to_secretary`)
- ฺุช ุจู ุฏุจุฑ ู ูุงุญุฏ ูุฌุฑ
- ุงูฺฉุงู ูุฑุงุด ุชูุณุท ุฏุจุฑ
- ุงูุชูุง ฺฏูุชฺฏู ุจุง ูุจูู ุง ูุบู

### 4. **ูุฑุญูู ุงุฌุฑุง** (`in_progress`)
- ุจุฑูุฒุฑุณุงู ูพุดุฑูุช
- ฺุช ฺฏุฑูู ุจู ุงุนุถุง ุชู
- ุงุฑุฌุงุน ุจู ุงูุฑุงุฏ ุฌุฏุฏ

### 5. **ูุฑุญูู ูพุงุงู**
- `completed`: ุชฺฉูู ุดุฏู
- `cancelled`: ูุบู ุดุฏู

---

## ๐ก๏ธ ุณุทูุญ ุฏุณุชุฑุณ

### **ุฏุจุฑ** (Secretary):
- ุงุฌุงุฏ ู ูุฑุงุด ูุตูุจุงุช
- ูุดุงูุฏู ููู ูุตูุจุงุช
- ฺุช ุฏุฑ ูุฑุญูู `notified` ู `returned_to_secretary`

### **ูุงุญุฏ ูุฌุฑ** (Executor):
- ูุจูู/ุจุฑฺฏุดุช ูุตูุจู
- ุจุฑูุฒุฑุณุงู ูพุดุฑูุช
- ูุฏุฑุช ุชู ุงุฌุฑุง

### **ููฺฉุงุฑุงู** (Coworkers):
- ูุดุงูุฏู ู ฺุช ุฏุฑ ูุตูุจุงุช ูุฑุจูุทู
- ุจุฑูุฒุฑุณุงู ูพุดุฑูุช

### **ูุงุธุฑ** (Auditor):
- ูุดุงูุฏู ููู ูุตูุจุงุช ู ุขูุงุฑ
- ุนุฏู ุฏุฎุงูุช ุฏุฑ ูุฑุขูุฏ

### **ูุนุงูู/ูุฏุฑ** (Deputy/Manager):
- ุงุถุงูู ฺฉุฑุฏู ุงุนุถุง ุจู ุชู
- ูุฏุฑุช ุฒุฑุฏุณุชุงู

---

## ๐ ูฺฉุงุช ูู ููู

### ุงุณุชูุงุฏู ุงุฒ UUID:
ุชูุงู ูุฏูโูุง ุงุตู ุงุฒ UUID ุจูโุฌุง ID ุนุฏุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ุจุฑุง ุงููุช ุจุดุชุฑ.

### JSONField Usage:
ููุฏูุง `action_data` ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุงูุนุทุงูโูพุฐุฑ ุงุณุชูุงุฏู ูโุดููุฏ.

### Soft Delete:
ูุฏูโูุง ุงุฒ soft delete ุงุณุชูุงุฏู ููโฺฉููุฏุ ุจูฺฉู ูุถุนุช `cancelled` ุฏุงุฑูุฏ.

### Indexing:
ููุฏูุง `meeting.number` ู ุณุงุฑ ููุฏูุง ูพุฑุชฺฉุฑุงุฑ ุฏุงุฑุง index ูุณุชูุฏ.

### File Management:
ูุงูโูุง ุฏุฑ ูุณุฑ ุณุงุฎุชุงุฑููุฏ ุฐุฎุฑู ูโุดููุฏ:
- `meeting_minutes/`: ุตูุฑุชุฌูุณุงุช
- `comment_attachments/%Y/%m/`: ูุงูโูุง ูพูุณุช

---

## ๐ฏ ุจูููโุณุงุฒโูุง

### Query Optimization:
- ุงุณุชูุงุฏู ุงุฒ `select_related` ุจุฑุง ForeignKey ูุง
- ุงุณุชูุงุฏู ุงุฒ `prefetch_related` ุจุฑุง ManyToMany ูุง

### Cache Strategy:
- Cache ฺฉุฑุฏู hierarchical data
- Cache ฺฉุฑุฏู ุขูุงุฑ dashboard

### Performance Considerations:
- Pagination ุจุฑุง ูุณุชโูุง ุจุฒุฑฺฏ
- Lazy loading ุจุฑุง ููุฏูุง ุณูฺฏู

---

*ุขุฎุฑู ุจุฑูุฒุฑุณุงู: ุฏ 1403*
*ูุณุฎู: 1.0* 